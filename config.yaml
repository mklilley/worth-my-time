# worth-my-time (wmt) config (YAML)

paths:
  # Brave/Chromium bookmarks JSON file.
  #
  # macOS default profile is usually stored under `Default/`, even if your visible profile name is different.
  # For Brave on macOS (default profile):
  #   ~/Library/Application Support/BraveSoftware/Brave-Browser/Default/Bookmarks
  bookmarks_file: ~/Library/Application Support/BraveSoftware/Brave-Browser/Default/Bookmarks

  # One Markdown file per processed bookmark (point this at a Syncthing-synced folder).
  output_dir: ~/Syncthing/WorthMyTime

  # Logs
  log_file: ~/Library/Logs/worth_my_time.log

  # Optional: override the built-in triage prompt template.
  # triage_prompt_file: ~/.config/wmt/triage_prompt.md

bookmarks:
  # Brave stores bookmarks under roots.bookmark_bar / roots.other / roots.synced, etc.
  root_name: bookmark_bar

  # Folder name to watch inside the chosen root.
  inbox_folder_name: Inbox

state:
  # Where wmt records what has already been processed (so it won’t re-run the same bookmark).
  # Options: json | sqlite
  backend: json
  path: ~/.config/wmt/state.json

processing:
  # Brave may update the Bookmarks file in-place; this avoids parsing it mid-write.
  stable_seconds: 2
  poll_interval_seconds: 30

  # Avoid double-processing across multiple runners.
  in_progress_ttl_seconds: 3600

  # Keep v1 simple: only process one item per run/loop.
  max_items_per_run: 1

fetch:
  # Safety cap to keep prompts reasonably sized.
  max_transcript_chars: 120000

  # Reserved for future script-side probing/prefetch (currently unused):
  timeout_seconds: 20
  max_bytes: 2000000

codex:
  enabled: true
  # Command used to generate analysis. `-` means "read prompt from stdin".
  # Example: ["codex", "--color", "never", "exec", "--skip-git-repo-check", "--sandbox", "read-only", "-"]
  command: ["codex", "exec", "--skip-git-repo-check", "--sandbox", "read-only", "-"]
  model: ""
  # Optional: pass through to Codex as `-c model_reasoning_effort="..."` (e.g. low|medium|high|xhigh).
  model_reasoning_effort: ""
  # Enable Codex web search so it can find “reception pulse” links.
  web_search_enabled: true
  timeout_seconds: 900

hackmd:
  # Optional: publish each processed markdown file to HackMD after saving locally.
  enabled: false

  # Create an API token in HackMD settings, then set it here.
  # (Prefer env var if you don't want secrets on disk: set api_token_env instead.)
  api_token: ""
  api_token_env: ""

  # Where to create the note (folder UUID in HackMD).
  parent_folder_id: ""

  # HackMD API base URL and request timeout.
  api_base_url: https://api.hackmd.io/v1
  timeout_seconds: 60
